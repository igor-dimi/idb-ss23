<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jacob Rose">
<meta name="author" content="Igor Dimitrov">
<meta name="author" content="Jonathan Barthelmes">

<title>IDB SS23 Solutions &amp; Notes - 1&nbsp; Grundlagen der Relationalen Algebra</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../02/blatt02.html" rel="next">
<link href="../index.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../01/blatt01.html">Loesungen</a></li><li class="breadcrumb-item"><a href="../01/blatt01.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Grundlagen der Relationalen Algebra</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">IDB SS23 Solutions &amp; Notes</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IDB SS 23 Loesungen &amp; Notizen</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Loesungen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01/blatt01.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Grundlagen der Relationalen Algebra</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02/blatt02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Relationale Algebra und SQL</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03/blatt03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">ER-Modellierung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04/blatt04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Uebersetzung ER-Schema in Relationenschemata</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05/blatt05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">SQL-Anfragen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../06/blatt06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Rekursion, Relationale Algebra und SQL</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../07/blatt07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">SQL und Anfragesprachen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08/blatt08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Physiche Datenorganisation und Baeume</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Notes</span></span>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#grundlagen-der-logik" id="toc-grundlagen-der-logik" class="nav-link active" data-scroll-target="#grundlagen-der-logik"><span class="header-section-number">1.1</span> Grundlagen der Logik</a></li>
  <li><a href="#relationale-algebra" id="toc-relationale-algebra" class="nav-link" data-scroll-target="#relationale-algebra"><span class="header-section-number">1.2</span> Relationale Algebra</a></li>
  <li><a href="#datenmanagementsysteme" id="toc-datenmanagementsysteme" class="nav-link" data-scroll-target="#datenmanagementsysteme"><span class="header-section-number">1.3</span> Datenmanagementsysteme</a></li>
  <li><a href="#feedback" id="toc-feedback" class="nav-link" data-scroll-target="#feedback"><span class="header-section-number">1.4</span> Feedback</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Grundlagen der Relationalen Algebra</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Jacob Rose </p>
             <p>Igor Dimitrov </p>
             <p>Jonathan Barthelmes </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="grundlagen-der-logik" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="grundlagen-der-logik"><span class="header-section-number">1.1</span> Grundlagen der Logik</h2>
<ol type="a">
<li></li>
</ol>
<ol type="1">
<li><p>Wenn zwei Tiere im selben Lebensraum leben, essen sie auch das selbe.</p>
<p><strong>falsch</strong>: <span class="math inline">\(t_{1}\)</span> (Gepard) und <span class="math inline">\(t_{9}\)</span> (Uganda-Grasantilope) haben den gleichen lebensraum “Regenwald” aber andere Ernaehrungen; Karnivore und bzw. Herbivore.</p>
<p><strong>erfuellbar</strong>: Jede Datenbank, die ein einziges Tier enthaelt erfuellt diese Aussage automatisch.</p></li>
<li><p>Fuer jedes Zootier existier ein anderes Zootier, welches entweder die selbe Nahrung isst oder im selben Lebensraum lebt. <strong><em>wahr</em></strong></p></li>
<li><p>Es existieren drei Zootiere, so dass erstes und zweites ,sowie zweites und drittes den gleichen Lebensraum teilen aber erstes und drittes nicht.</p>
<p><strong>falsch und nicht erfuellbar</strong>: <span class="math inline">\(l(x, y)\)</span> ist eine Aequivalenzrelation. Somit gilt Transitivitaet: <span class="math inline">\(l(x, y) \wedge l(y, z) \rightarrow l(x, z)\)</span></p></li>
<li><p>Es gibt keine zwei unterschiedliche Tiere, die sowohl der gleichen Familie zugehoerig sind als auch den gleichen Lebensraum teilen.</p>
<p><strong>falsch</strong>: <span class="math inline">\(t_{6}\)</span> und <span class="math inline">\(t_{10}\)</span> sind beide Sakiaffen mit dem Lebensraum Regenwald.</p>
<p><strong>erfuellbar</strong>: Jede Datenbank mit einem einzigen Element efuellt diese Aussage automatisch.</p></li>
</ol>
<ol start="2" type="a">
<li></li>
</ol>
<ol type="1">
<li><span class="math inline">\(\forall x\in T \exists y \in T: x \neq y\wedge fam(x, y) \wedge \neg ls(x, y)\)</span></li>
<li><span class="math inline">\(\forall x\in T\forall y\in T: fam(x, y) \wedge le(x, y) \wedge er(x, y) \rightarrow x = y\)</span></li>
<li><span class="math inline">\(\forall x \in T \forall y\in T: fam(x, y) \rightarrow er(x, y)\)</span></li>
</ol>
</section>
<section id="relationale-algebra" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="relationale-algebra"><span class="header-section-number">1.2</span> Relationale Algebra</h2>
<ol type="1">
<li><p>Gebe die Modelle von Flugzeugen, die so heissen, wie einer aus dem Personal.</p>
<table class="table">
<thead>
<tr class="header">
<th><strong>Modell</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Quack</td>
</tr>
</tbody>
</table></li>
<li><p>Gebe die crew ID der Mitarbeiter, die nicht an den afugelisteten Fluegen beteiligt sind.</p>
<table class="table">
<thead>
<tr class="header">
<th><strong>cid</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>c090</td>
</tr>
</tbody>
</table></li>
<li><p>Gebe die Flugnummer der Fluege, die in Deutschland starten.</p>
<table class="table">
<thead>
<tr class="header">
<th><strong>Flugnr</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DB2013</td>
</tr>
<tr class="even">
<td>DB2341</td>
</tr>
</tbody>
</table></li>
<li><p>Gebe alle Modelle aus, fuer die eine Crew-Mitglied zugelassen ist.</p>
<table class="table">
<thead>
<tr class="header">
<th><strong>Zulassung</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A320</td>
</tr>
<tr class="even">
<td>B787</td>
</tr>
<tr class="odd">
<td>A380</td>
</tr>
<tr class="even">
<td>A340</td>
</tr>
<tr class="odd">
<td>B747</td>
</tr>
</tbody>
</table></li>
<li><p>Gebe alle Namen von Piloten aus, die fuer eine Maschine zugelassen sind mit Reichweite <span class="math inline">\(\leq 10000\)</span>.</p>
<table class="table">
<thead>
<tr class="header">
<th><strong>Name</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Pan</td>
</tr>
<tr class="even">
<td>Schmitt</td>
</tr>
</tbody>
</table></li>
<li><p>Gebe Start, Ziel und Modell fuer alle Modelle aus, die ungeiegnet fuer einen Flug sind, weil sie die Strecke nicht fliegen koennen.</p>
<table class="table">
<thead>
<tr class="header">
<th><strong>Start</strong></th>
<th><strong>Ziel</strong></th>
<th><strong>Modell</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>FRA</td>
<td>JFK</td>
<td>A320</td>
</tr>
<tr class="even">
<td>JFK</td>
<td>FRA</td>
<td>A320</td>
</tr>
<tr class="odd">
<td>CDG</td>
<td>LAX</td>
<td>A320</td>
</tr>
</tbody>
</table></li>
<li><p>Waehle aus Fluegen die gleichen Flugnummern, die an unterschiedlichen Tagen fliegen, d.h gebe Flugnummern der Fluegen, die Rundfahrten sind.</p>
<table class="table">
<thead>
<tr class="header">
<th>Flugnr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DB2013</td>
</tr>
</tbody>
</table></li>
<li><p>Gebe die Laender aus, aus denen keine Flugzeuge starten.</p>
<table class="table">
<thead>
<tr class="header">
<th><strong>Land</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Deutschland</td>
</tr>
</tbody>
</table></li>
</ol>
</section>
<section id="datenmanagementsysteme" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="datenmanagementsysteme"><span class="header-section-number">1.3</span> Datenmanagementsysteme</h2>
<ol type="a">
<li><p>XML und HTML basieren sich beide auf <strong>SGML</strong> - eine Metasprache, mit deren Hilfe man verschiedene Markup-sprachen fuer Dokumente definieren kann.</p>
<p>XML ist eine erweiterbare Markup-sprache, die zur Darstellung &amp; Speicherung hierarchisch strukturierter Daten und zur Definition &amp; Entwicklung neuer Markup-sprachen verwendet wird. XML Dokumente haben eine Baumstruktur und bestehen aus <strong>Elemente</strong>, die durch <strong>Tags</strong> Ausgezeichnet werden. XML hat keinen vordifienerten Satz von Tags, wobei die genaue Struktur eines XML-Dokuments durch den <strong>Dokumenttypdefinition</strong> festgelegt werden kann.</p>
<p>HTML beschreibt die semantische Struktur und Formattierung der Inhalte von Webseiten und war urspruenglich eine Anwendung von SGML. Im Gegensatz zu XML hat HTML einen festen Satz von Tags, die fuer die Auszeichnung der Elementen verwendet werden koennen. Streng genommen ist HTML kein XML hat aber im wesentlichen die gleiche Struktur wie ein XML-Dokument. (Hierarchische Baumstruktur, Elemente, Tags, DOM).</p>
<p>Fuer XML gibt es viele standarte Werkzeuge, die XML Dokumente auf Wohlgeformtheit pruefen und porgrammatsich verarbeiten koennen, z.B. wie</p>
<ul>
<li>XML-Prozessor/Parser,</li>
<li><strong>XQuery</strong>: die standarde XML Abfrage- und Transformationssprache,</li>
<li><strong>XPath</strong>: Untersprache von XQuery, die XQuery unterstuetzt,</li>
<li><strong>XSLT</strong>: Sprache die speziell dazu geiegnet ist, XML Dokumente in andere Formate umzuwandeln.</li>
</ul>
<p>Diese Tools stehen in XML Datenbanken zur verfuegung und XML Datenbanken sind fuer die Arbeit mit XML-Dokumenten optimiert. Somit koennen HTML-Dokumente mit den etablierten zahlreichen XML Tools optimal verarbeitet werden, wenn sie in einer XML Datenbank gespeichert werden.</p>
<!-- die bei einer XML-Datenbank zur Verfuegung stehen aber nicht bei einer relationalen Datenbank.      -->
<p>Ein weiterer Vorteil ist, dass eine XML-Datenbank kein oder nur ein vereinfachtes Datenschema (Beziehungsschema/Tabellen) braucht, da die Daten schon durch das Dateiformat strukturiert werden. Bei einer relationael Datenbank muss das Schema explizit definiert werden. D.h. um ein HTML-Dokument in einer RDB zu speichern, oder um ein Dokument aus einer RDB zu exportieren muss jedes mal eine Transformation zwischen der HTML-Darstellung und relationalen Darstellung des Dokuments durchgefuehrt werden. Weiterhin funktioniert die Abbildung zwischen den Dokument-orientierten und relationalen Modellen nicht immer gut und wird als <strong>object-relational impedence mismatch</strong> bezeichnet.</p></li>
<li><p><strong>Vorteile</strong>:</p>
<ul>
<li>Man benoetigt kein vordefiniertes Schema</li>
<li>Kommt gut mit vielen Lese- und Schreibzugriffen zurecht.</li>
</ul>
<p><strong>Nachteile</strong>:</p>
<ul>
<li>Geringe konsistenzt/Gueltigkeit der Daten.<br>
</li>
<li>Weil es weniger Einschraenkungen gibt, koennen die Abfragen nicht so gut optimiert werden wie bei den relationalen DBen.</li>
</ul></li>
</ol>
</section>
<section id="feedback" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="feedback"><span class="header-section-number">1.4</span> Feedback</h2>
<pre class="text"><code>Rose, Dimitrov, Barthelmes

Aufgabe 1:
    a) Ja, technisch gesehen erfüllen Datenbanken, die nur ein Tier enthalten, die 1 und 4, wäre halt nur besser gewesen, wenn ihr ein "normales" Beispiel mit mindestens 2 Tieren gewählt hättet :D

9/9 Punkte

Aufgabe 2:
    1. Es wird das MODELL gesucht, nicht der NAME :D Also A380
    5. Nicht ganz, es sind eher alle Personen, die nicht für ein Flugzeug mit Reichweite &gt;10000 zugelassen sind.
    6. "Ungeeignet"? Habt ihr nie von technischen Zwischenstopps gehört? :p
    7. Nicht unbedingt Rundfahrten
    8. "... Länder aus, die einen Flughafen haben, aus dem..."

8/11 Punkte

Aufgabe 3:

Habt ihr ChatGPT verwendet? Das sieht sehr nach ChatGPT aus...

4/4 Punkte

Insgesamt 21/24 Punkte</code></pre>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">IDB SS 23 Loesungen &amp; Notizen</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../02/blatt02.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Relationale Algebra und SQL</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>